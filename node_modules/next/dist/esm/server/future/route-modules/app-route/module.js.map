{"version":3,"sources":["../../../../../src/server/future/route-modules/app-route/module.ts"],"names":["RouteModule","RequestAsyncStorageWrapper","StaticGenerationAsyncStorageWrapper","handleBadRequestResponse","handleInternalServerErrorResponse","HTTP_METHODS","isHTTPMethod","addImplicitTags","patchFetch","getTracer","AppRouteRouteHandlersSpan","getPathnameFromAbsolutePath","proxyRequest","resolveHandlerError","RouteKind","Log","autoImplementMethods","getNonStaticMethods","SYMBOL_MODIFY_COOKIE_VALUES","ResponseCookies","HeadersAdapter","AppRouteRouteModule","constructor","userland","pathname","resolvedPagePath","nextConfigOutput","hasSetup","definition","kind","APP_ROUTE","page","bundlePath","filename","methods","nonStaticMethods","dynamic","Error","setup","process","env","NODE_ENV","lowercased","map","method","toLowerCase","error","toUpperCase","some","resolve","execute","request","context","handler","requestContext","req","renderOpts","previewProps","prerenderManifest","preview","staticGenerationContext","supportsDynamicHTML","fetchCache","response","actionAsyncStorage","run","isAppRoute","wrap","requestAsyncStorage","staticGenerationAsyncStorage","staticGenerationStore","staticGenerationBailout","join","forceDynamic","forceStatic","dynamicShouldError","revalidate","wrappedRequest","headerHooks","serverHooks","route","getRootSpanAttributes","set","trace","runHandler","spanName","attributes","res","params","fetchMetrics","Promise","all","pendingRevalidates","fetchTags","tags","requestStore","getStore","mutableCookies","modifiedCookieValues","length","resCookies","from","headers","returnedCookies","getAll","cookie","responseHeaders","Headers","forEach","value","key","append","tempCookies","toString","Response","body","status","statusText","has","get","handle","err"],"mappings":"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"}