{"version":3,"sources":["../../../../src/server/web/spec-extension/unstable-cache.ts"],"names":["addImplicitTags","unstable_cache","cb","keyParts","options","joinedKey","toString","join","staticGenerationAsyncStorage","fetch","__nextGetStaticStore","store","getStore","incrementalCache","Error","revalidate","cachedCb","args","run","fetchCache","cacheKey","fetchCacheKey","cacheEntry","isOnDemandRevalidate","get","tags","implicitTags","tag","includes","push","invokeCallback","result","set","kind","data","headers","body","JSON","stringify","status","value","console","error","cachedValue","isStale","resData","parse","currentTags","pendingRevalidates","catch","err","every"],"mappings":"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"}